# ALASKI 

## 1. 选题背景、依据

### 选题背景

赌，是人类的天性。据不完全统计，2016年全球博彩业总交易额为4500亿美金，2017年则达到了惊人的5000亿美金。这股热潮也蔓延到了区块链应用，Fomo3D、Dice2win、333ETH等，博彩类Dapp成为Dapp应用中的亮点。从表面上来看，区块链博彩公开透明，去中心化，没有商家操控，让博彩更加安全有序。但实际上目前区块链上的智能合约并没有想象中的那么美好，存在：1. “难以避免”的合约漏洞，2. 开发者的技术“后门”，两个主要的问题。

所以现在需要一些简单，开源的博彩合约的实现。

### 构思

在区块链上实现博彩Dapp，最关键的步骤是如何生成不可被预测，不可被攻破的随机数： 这里通过参与的每一个人提供一个他们想要的数字，然后将这些数字做异或操作，来生成这个随机数。

1. 部署合约的用户作为博彩的庄家，部署时发送的以太币作为庄家的本金，同时规定好各项时间参数。
2. 参与者在指定的时间之内将想要提供的数字（足够大，非零）与自身的地址混淆后进行keccak256哈希，再传到智能合约中。合约建立发送方地址和哈希值之间的映射。

3.    参与者在规定时间内（2步骤之后），将之前想要提供的数字传到合约中并附加赌注（所有参与者的赌注之和小于庄家本金），合约结合地址验证是否是之前提供的数字，是则保存，否则舍弃。


4.    参与者在规定时间内（3步骤之后），调用开奖函数，将所有人提供的数字的异或值与除了他提供的数字之外的所有数字的异或值进行比较，如果前者小于后者，则合约发送两倍的赌注回参与者。



这种实现首先使用每一个人提供一个数再做异或的方式，来使得生成的随机数无法被预知。同时分两步传输，使得攻击者无法在开奖之前从本地离线推测其他人提供的数值。

## 2. 使用说明





## 3. 测试



